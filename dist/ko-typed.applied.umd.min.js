!function(e,t){"function"==typeof define&&define.amd?define(["knockout","is-an"],t):"object"==typeof exports?module.exports=t(require("knockout"),require("is-an")):e.ko=t(e.ko,e.isAn)}(this,function(e,t){var r,n={}.hasOwnProperty;return r=function(e){var r,o,u,i,a;return i=function(e){return null==e||0===e.length?void 0:t.String.Literal(e)?e:e.join("|")},u=function(e){return e=i(e),t.String.Literal(e)?e.split("|"):[]},o=function(e){return/^[A-Z]/.test(e)},r=function(e){return t.Function(e)&&null!=e.typeName&&null!=e.typeNames&&null!=e.typeCheck&&null!=e.typeChecks},a=function(t,r){var n,o;if(r.validate)return o=void 0,n=function(){var n,u,i,a;return null!=e.validation&&e.validation.utils.isValidatable(t)?(n=null!=(u=r.message)?u:null!=(i=null!=(a=t.typeWriteError())?a:t.typeReadError())?i.message:void 0,null==o?(o={message:n,validator:function(){return null==t.typeWriteError()&&null==t.typeReadError()}},e.validation.addAnonymousRule(t,o)):(o.message=n,t.rules.valueHasMutated())):void 0},t.typeWriteError.subscribe(n),t.typeReadError.subscribe(n),null!=e.validation&&t.extend({validatable:!0}),r.deferEvaluation?void 0:n()},e.extenders.type=function(r,l){var c,f,d,s,p;return t.String.Literal(l)||t.Array(l)?l={type:l}:t.Function(l)&&(l={type:l.typeName,check:l}),l=e.utils.extend(e.utils.extend({},e.extenders.type.options),l),l.useDefault&&null==l.defaultFunc&&(l.defaultFunc=function(){return l["default"]}),p=u(l.type),function(){var e,t,r;r=[];for(t in l)n.call(l,t)&&(e=l[t],o(t)&&(-1===p.indexOf(t)?r.push(p.push(t)):r.push(void 0)));return r}(),s=i(p),d={},function(){var e,r,n,o,u;for(u=[],e=0,r=p.length;r>e;e++)n=p[e],u.push(d[n]=null!=(o=l[n])?o:t(n,{returnChecker:!0}));return u}(),f=function(){var e,t;return e=null!=(t=l.check)?t:function(){return!0},function(t){return e(t)&&(0===p.length||p.some(function(e){return d[e](t)}))}}(),c=e.computed({pure:l.pure,deferEvaluation:l.deferEvaluation,read:function(){var e,n,o;try{if(o=r(),!f(o))throw new TypeError("Unexpected internal type. Expected "+s+", got "+t(o))}catch(e){if(n=e,n instanceof TypeError&&(c.typeReadError(n),l.useDefault))return l.defaultFunc();throw n}return c.typeReadError(void 0),o},write:function(e){var n,o;try{if(!f(e))throw new TypeError("Unexpected external type. Expected "+s+", received "+t(e));r(e)}catch(n){if(o=n,o instanceof TypeError&&(c.typeWriteError(o),l.noThrow))return;throw o}return c.typeWriteError(void 0)}}),c.typeName=s,c.typeNames=p,c.typeCheck=f,c.typeChecks=d,c.typeWriteError=e.observable(),c.typeReadError=e.observable(),a(c,l),l.pure&&!l.deferEvaluation&&c(),c},e.extenders.type.options={validate:!0,message:void 0,noThrow:!1,useDefault:!1,pure:!0,deferEvaluation:!0},e.extenders.convert=function(l,c){var f;return function(){var a,f,d,s,p,y,h,v,m,g,w,k,C,b,E,S,N,T;(t.String(c)||t.Array(c))&&(c={type:c}),c=e.utils.extend(e.utils.extend({},e.extenders.convert.options),c),s={checkSelf:null!=(w=c.check)?w:function(){return!0},read:c.read,write:c.write,checks:{},checkers:[],isTyped:r(l),ignoreDefaultConverters:c.ignoreDefaultConverters,pure:c.pure,deferEvaluation:c.deferEvaluation,defaultFunc:c.defaultFunc,noThrow:c.noThrow,message:c.message,useDefault:c.useDefault},s.useDefault&&null==c.defaultFunc&&(s["default"]=c["default"],s.defaultFunc=function(){return s["default"]}),s.checkers.push(s.checkSelf),s.types=u(c.type);for(f in c)n.call(c,f)&&o(f)&&-1===s.types.indexOf(f)&&s.types.push(f);for(k=s.types,p=0,m=k.length;m>p;p++){f=k[p],d=null!=(C=c[f])?C:{},s[f]={checkSelf:null!=(b=null!=(E=d.check)?E:t(f,{returnChecker:!0}))?b:function(){return!0},read:d.read,write:d.write,types:u(d.type)},a=s.checkSelf,s.checkers.push(s[f].checkSelf),s.checks[f]=s[f].check=function(e){return function(t){return s.checkSelf(t)&&s[e].checkSelf(t)}}(f);for(y in d)n.call(d,y)&&o(y)&&-1===s[f].types.indexOf(y)&&s[f].types.push(y);for(S=s[f].types,v=0,g=S.length;g>v;v++)y=S[v],h=null!=(N=null!=(T=c[f])?T[y]:void 0)?N:{},s[f][y]={checkSelf:h.check,read:h.read,write:h.write},null==s[f][y].checkSelf?s[f][y].check=s[f][y].checkSelf=s[f].checkSelf:s[f][y].check=function(e,t){return function(r){return s[e].check(r)&&s[e][t].checkSelf(r)}}(f,y);s[f].type=i(s[f].types)}return s.type=i(s.types),s.check=function(e){return s.checkSelf(e)&&(0===s.checkers.length||s.checkers.some(function(t){return t(e)}))},c=s}(),f=e.computed({pure:c.pure,deferEvaluation:c.deferEvaluation,read:function(){var r,n,o,u,i,a,d,s,p,y,h,v,m,g,w,k,C,b,E,S;try{for(h=l(),a=void 0,S=function(e,t){var r,n;if(null!=e){try{a=e(h,t)}catch(r){if(n=r,!(n instanceof TypeError))throw n}if(null==n)return!0}return!1},C=c.types,d=0,g=C.length;g>d;d++)for(u=C[d],i=c[u],p=i.types,0===p.length&&null==i.read&&(p=c.isTyped?l.typeNames:[t(h)]),v=0,w=p.length;w>v;v++){if(s=p[v],c.isTyped){if(!("function"==typeof(r=l.typeChecks)[s]?r[s](h):void 0))continue}else if(!t(h,s))continue;if(y=null!=(b=i[s])?b:{check:i.check},S(y.read,y.readOptions)&&y.check(a))return a;if(u===s&&y.check(h))return a=h;if(!c.ignoreDefaultConverters&&S(e.typed.getConverter(s,u),y.readOptions)&&y.check(a))return a}for(E=c.types,m=0,k=E.length;k>m;m++)if(u=E[m],i=c[u],S(i.read,i.readOptions)&&i.check(a))return a;if(S(c.read,c.readOptions)&&c.check(a))return a;if(0===c.types.length&&c.check(a))return a=h;throw null!=c.type?new TypeError("Unable to convert from internal type "+t(h)+" to external type "+c.type):new TypeError("Unable to convert from internal type "+t(h))}catch(n){if(o=n,o instanceof TypeError&&(f.typeReadError(o),c.useDefault))return c.defaultFunc();throw o}finally{null==o&&f.typeReadError(void 0)}},write:function(r){var n,o,u,i,a,d,s,p,y,h,v,m,g,w,k,C,b;try{for(b=function(e,t){var n,o,u;if(null!=e){try{u=e(r,t)}catch(n){if(o=n,!(o instanceof TypeError))throw o}if(null==o)return l(u),!0}return!1},w=c.types,a=0,v=w.length;v>a;a++)if(u=w[a],i=c[u],i.check(r))for(s=i.types,0===s.length&&null==i.write&&(s=c.isTyped?l.typeNames:[t(r)]),y=0,m=s.length;m>y;y++)if(d=s[y],p=null!=(k=i[d])?k:{},null==p.check||p.check(r)){if(b(p.write,p.writeOptions))return;if(u===d)return void l(r);if(!c.ignoreDefaultConverters&&b(e.typed.getConverter(u,d),p.writeOptions))return}for(C=c.types,h=0,g=C.length;g>h;h++)if(u=C[h],i=c[u],i.check(r)&&b(i.write,i.writeOptions))return;if(c.check(r)){if(b(c.write,c.writeOptions))return;if(0===c.types.length)return void l(r)}throw c.isTyped?new TypeError("Unable to convert from external type "+t(r)+" to internal type "+l.typeName):new TypeError("Unable to convert from external type "+t(r))}catch(n){if(o=n,o instanceof TypeError&&(f.typeWriteError(o),c.noThrow))return;throw o}finally{null==o&&f.typeWriteError(void 0)}}}),f.typeName=c.type,f.typeNames=c.types,f.typeCheck=c.check,f.typeChecks=c.checks,f.typeReadError=e.observable(),f.typeWriteError=e.observable(),a(f,c),c.pure&&!c.deferEvaluation&&f(),f},e.extenders.convert.options={validate:!0,message:void 0,noThrow:!1,pure:!0,deferEvaluation:!0},e.typed={},function(){var r;e.typed._converters=r={},e.typed.addConverter=function(n,u,i,a,l){var c;return"undefined"!=typeof console&&null!==console&&"function"==typeof console.assert&&console.assert(o(n),"Invalid typeName "+n),"undefined"!=typeof console&&null!==console&&"function"==typeof console.assert&&console.assert(o(u),"Invalid typeName "+n),c=null!=a?null!=l?function(r,n){var o;return null==n||t.Object(n)||(o={},o[l]=n,n=o),i(r,e.utils.extend(e.utils.extend({},c.options),n))}:function(t,r){return i(t,e.utils.extend(e.utils.extend({},c.options),r))}:function(e){return i(e)},c.options=a,null==r[n]&&(r[n]={}),r[n][u]=c,e.typed},e.typed.getConverter=function(e,t){var n;return null!=(n=r[e])?n[t]:void 0},e.typed.removeConverter=function(t,n){var o,u;return null!=(null!=(o=r[t])?o[n]:void 0)&&null!=(u=r[t])&&delete u[n],e.typed}}(),function(){var e;e=function(e,t,r){return null==r||0===+r?e(t):(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!==0?NaN:(t=t.toString().split("e"),t=e(+(t[0]+"e"+(t[1]?+t[1]-r:-r))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+r:r))))},null==Math.round10&&(Math.round10=function(t,r){return e(Math.round,t,r)}),null==Math.floor10&&(Math.floor10=function(t,r){return e(Math.floor,t,r)}),null==Math.ceil10&&(Math.ceil10=function(t,r){return e(Math.ceil,t,r)})}(),e.typed.addConverter("Boolean","Number.Integer",function(e,t){return e?t.truthy:t.falsey},{truthy:1,falsey:0},"truthy"),e.typed.addConverter("Boolean","Number",function(e,t){return e?t.truthy:t.falsey},{truthy:1,falsey:0},"truthy"),e.typed.addConverter("Boolean","String",function(e,t){return e=e?t.truthy:t.falsey,t.upperCase&&(e=e.toUpperCase()),e},{upperCase:!1,truthy:"true",falsey:"false"},"upperCase"),e.typed.addConverter("Date","Moment",function(e,t){return("undefined"!=typeof moment&&null!==moment?moment:require("moment"))(e)}),e.typed.addConverter("Date","String",function(e,t){var r;return isNaN(e.valueOf())?"":(r=t.formats[t.format],e[r].apply(e,t.params))},{formats:{date:"toDateString",iso:"toISOString",json:"toJSON",localeDate:"toLocaleDateString",localeTime:"toLocaleTimeString",locale:"toLocaleString",time:"toTimeString",utc:"toUTCString","default":"toString"},format:"default",params:[]},"format"),e.typed.addConverter("Date","Undefined",function(e,t){if(!isNaN(e.valueOf()))throw new TypeError("Unable to convert from valid Date to Undefined");return void 0}),e.typed.addConverter("Moment","Date",function(e,t){return e.toDate()}),e.typed.addConverter("Moment","String",function(e,t){return e.isValid()?e.locale(t.locale).format(t.format):""},{strict:!1,locale:"en",format:"L"},"format"),e.typed.addConverter("Moment","Undefined",function(e,t){if(e.isValid())throw new TypeError("Unable to convert from valid Moment to Undefined");return void 0}),e.typed.addConverter("Number","Boolean",function(e,t){if(null!=t.falsey&&e===t.falsey)return!1;if(null!=t.truthy&&e===t.truthy)return!0;if(null==t.falsey)return!1;if(null==t.truthy)return!0;throw new TypeError("Cannot convert from "+e+" to Boolean")},{truthy:void 0,falsey:0}),e.typed.addConverter("Number","Number.Integer",function(e,t){var r;return(r="string"==typeof t.mode?Math[t.mode]:t.mode)(e)},{mode:"round"},"mode"),e.typed.addConverter("Number","String",function(e,t){return null!=t.decimals?(e=Math.round10(e,-t.decimals),e=e.toFixed(t.decimals)):e=e.toString(),e},{decimals:void 0},"decimals"),e.typed.addConverter("Number.Integer","Boolean",function(e,t){if(null!=t.falsey&&e===t.falsey)return!1;if(null!=t.truthy&&e===t.truthy)return!0;if(null==t.falsey)return!1;if(null==t.truthy)return!0;throw new TypeError("Cannot convert from "+e+" to Boolean")},{truthy:void 0,falsey:0}),e.typed.addConverter("Number.Integer","Number",function(e,t){return e}),e.typed.addConverter("Number.Integer","String",function(e,t){return e=e.toString(t.base),t.upperCase&&(e=e.toUpperCase()),e},{base:10,upperCase:!1},"base"),e.typed.addConverter("String","Boolean",function(e,t){var r,n,o,u,i,a,l,c;if(t.trim&&(e=e.trim()),t.ignoreCase&&(e=e.toLowerCase()),t.strict){if(e===t.truthy[0])return!0;if(e===t.falsey[0])return!1}else{for(a=t.truthy,n=0,u=a.length;u>n;n++)if(c=a[n],e===c)return!0;for(l=t.falsey,o=0,i=l.length;i>o;o++)if(r=l[o],e===r)return!1}throw new TypeError("Cannot convert from "+e+" to Boolean")},{ignoreCase:!0,strict:!1,truthy:["true","t","1","-1","yes","y"],falsey:["false","f","0","no","n"],trim:!1},"strict"),e.typed.addConverter("String","Date",function(e,t){var r;if(t.trim&&(e=e.trim()),r=new Date(e),isNaN(r.valueOf()))throw TypeError("Unable to convert from "+e+" to Date");return r},{trim:!1}),e.typed.addConverter("String","Moment",function(e,t){var r;if(t.trim&&(e=e.trim()),r=("undefined"!=typeof moment&&null!==moment?moment:require("moment"))(e,t.format,t.language,t.strict),!r.isValid())throw new TypeError("Unable to convert from "+e+" to Moment");return r},{strict:!1,language:"en",format:"L",trim:!1},"format"),e.typed.addConverter("String","Number.Integer",function(t,r){var n,o,u,i;if(r.trim&&(t=t.trim()),10===r.base&&!r.strict)try{return e.typed.getConverter("String","Number")(t,0)}catch(o){throw u=o,new TypeError("Unable to convert from "+t+" to Number.Integer")}if(n="0123456789abcdefghijklmnopqrstuvwxyz",!RegExp("^(\\-|\\+)?["+n.slice(0,null!=(i=r.base)?i:10)+"]+$",r.strict?void 0:"i").test(t))throw new TypeError("Unable to convert from "+t+" to Number.Integer");return parseInt(t,r.base)},{base:10,strict:!1,trim:!1},"base"),e.typed.addConverter("String","Number",function(e,t){if(t.trim&&(e=e.trim()),!/^(\+|\-)?[0-9]+(\.?)[0-9]*$/.test(e))throw new TypeError("Unable to convert from "+e+" to Number");return e=parseFloat(e,t.base),null!=t.decimals&&(e=Math.round10(e,-t.decimals)),e},{decimals:void 0,trim:!1},"decimals"),e.typed.addConverter("String","Undefined",function(e,t){if(t.trim&&(e=e.trim()),0!==e.length)throw new TypeError("Unable to convert from "+e+" to Undefined");return void 0},{trim:!1}),e.typed.addConverter("Undefined","Date",function(e){return new Date("")}),e.typed.addConverter("Undefined","String",function(e){return""}),e.typed.addConverter("Undefined","Moment",function(e){return require("moment")("")}),e},r(e),e});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtvLXR5cGVkLmFwcGxpZWQudW1kLmpzIiwia28tdHlwZWQuYXBwbGllZC5jb2ZmZWUiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImtvIiwiaXNBbiIsInRoaXMiLCJhcHBseUtvdHIiLCJoYXNQcm9wIiwiaGFzT3duUHJvcGVydHkiLCJpc1R5cGVkIiwiaXNWYWxpZFR5cGVOYW1lIiwidHlwZU5hbWVUb0FycmF5IiwidHlwZU5hbWVUb1N0cmluZyIsInZhbGlkYXRlIiwidmFsdWUiLCJsZW5ndGgiLCJTdHJpbmciLCJMaXRlcmFsIiwiam9pbiIsInNwbGl0IiwidGVzdCIsIkZ1bmN0aW9uIiwidHlwZU5hbWUiLCJ0eXBlTmFtZXMiLCJ0eXBlQ2hlY2siLCJ0eXBlQ2hlY2tzIiwidGFyZ2V0Iiwib3B0aW9ucyIsImVycm9yQ2hlY2siLCJydWxlIiwibWVzc2FnZSIsInJlZiIsInJlZjEiLCJyZWYyIiwidmFsaWRhdGlvbiIsInV0aWxzIiwiaXNWYWxpZGF0YWJsZSIsInR5cGVXcml0ZUVycm9yIiwidHlwZVJlYWRFcnJvciIsInZhbGlkYXRvciIsImFkZEFub255bW91c1J1bGUiLCJydWxlcyIsInZhbHVlSGFzTXV0YXRlZCIsInN1YnNjcmliZSIsImV4dGVuZCIsInZhbGlkYXRhYmxlIiwiZGVmZXJFdmFsdWF0aW9uIiwiZXh0ZW5kZXJzIiwidHlwZSIsInJlc3VsdCIsIkFycmF5IiwiY2hlY2siLCJ1c2VEZWZhdWx0IiwiZGVmYXVsdEZ1bmMiLCJuYW1lIiwicmVzdWx0cyIsImNhbGwiLCJpbmRleE9mIiwicHVzaCIsImkiLCJsZW4iLCJyZXR1cm5DaGVja2VyIiwiX2NoZWNrIiwic29tZSIsImNvbXB1dGVkIiwicHVyZSIsInJlYWQiLCJlcnJvciIsImV4IiwiaW50ZXJuYWxWYWx1ZSIsIlR5cGVFcnJvciIsIndyaXRlIiwiZXh0ZXJuYWxWYWx1ZSIsIm5vVGhyb3ciLCJvYnNlcnZhYmxlIiwiY29udmVydCIsImNoZWNrUGFyZW50IiwiZXh0VHlwZU5hbWUiLCJleHRUeXBlT3B0aW9ucyIsImZpbmFsT3B0aW9ucyIsImludFR5cGVOYW1lIiwiaW50VHlwZU9wdGlvbnMiLCJqIiwibGVuMSIsInJlZjMiLCJyZWY0IiwicmVmNSIsInJlZjYiLCJyZWY3IiwiY2hlY2tTZWxmIiwiY2hlY2tzIiwiY2hlY2tlcnMiLCJpZ25vcmVEZWZhdWx0Q29udmVydGVycyIsInR5cGVzIiwiY2hlY2tlciIsImJhc2UiLCJpbnRUeXBlTmFtZXMiLCJrIiwibGVuMiIsInRyeVJlYWQiLCJyZWFkT3B0aW9ucyIsInR5cGVkIiwiZ2V0Q29udmVydGVyIiwidHJ5V3JpdGUiLCJ3cml0ZU9wdGlvbnMiLCJjb252ZXJ0ZXJzIiwiX2NvbnZlcnRlcnMiLCJhZGRDb252ZXJ0ZXIiLCJmcm9tVHlwZU5hbWUiLCJ0b1R5cGVOYW1lIiwiY29udmVydGVyIiwiZGVmYXVsdE9wdGlvbnMiLCJkZWZhdWx0T3B0aW9uIiwid3JhcHBlciIsImNvbnNvbGUiLCJhc3NlcnQiLCJvIiwiT2JqZWN0IiwicmVtb3ZlQ29udmVydGVyIiwiZGVjaW1hbEFkanVzdCIsImV4cCIsImlzTmFOIiwiTmFOIiwidG9TdHJpbmciLCJNYXRoIiwicm91bmQxMCIsInJvdW5kIiwiZmxvb3IxMCIsImZsb29yIiwiY2VpbDEwIiwiY2VpbCIsInRydXRoeSIsImZhbHNleSIsInVwcGVyQ2FzZSIsInRvVXBwZXJDYXNlIiwibW9tZW50IiwibWV0aG9kIiwidmFsdWVPZiIsImZvcm1hdHMiLCJmb3JtYXQiLCJhcHBseSIsInBhcmFtcyIsImRhdGUiLCJpc28iLCJqc29uIiwibG9jYWxlRGF0ZSIsImxvY2FsZVRpbWUiLCJsb2NhbGUiLCJ0aW1lIiwidXRjIiwiZGVmYXVsdCIsInRvRGF0ZSIsImlzVmFsaWQiLCJzdHJpY3QiLCJtb2RlIiwiZGVjaW1hbHMiLCJ0b0ZpeGVkIiwidHJpbSIsImlnbm9yZUNhc2UiLCJ0b0xvd2VyQ2FzZSIsIkRhdGUiLCJsYW5ndWFnZSIsImNoYXJzIiwiUmVnRXhwIiwic2xpY2UiLCJwYXJzZUludCIsInBhcnNlRmxvYXQiXSwibWFwcGluZ3MiOiJDQUFFLFNBQVNBLEVBQU1DLEdBQ08sa0JBQVhDLFNBQXlCQSxPQUFPQyxJQUN6Q0QsUUFBUSxXQUFZLFNBQVVELEdBQ0YsZ0JBQVpHLFNBQ2hCQyxPQUFPRCxRQUFVSCxFQUFRSyxRQUFRLFlBQWFBLFFBQVEsVUFFdEROLEVBQUtPLEdBQUtOLEVBQVFELEVBQUtPLEdBQUlQLEVBQUtRLE9BRWxDQyxLQUFNLFNBQVNGLEVBQUlDLEdBQ3JCLEdBQUlFLEdDVEpDLEtBQUFDLGNEODNCQSxPQzkzQkFGLEdBQVksU0FBQ0gsR0FHWCxHQUFBTSxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxDQTQ2QkEsT0E1NkJBRCxHQUFtQixTQUFDRSxHQUNsQixNQUFPLE9BQUFBLEdBQTBCLElBQWhCQSxFQUFNQyxPQUNkLE9BQ0RYLEVBQUtZLE9BQU9DLFFBQVFILEdBQ25CQSxFQUVBQSxFQUFNSSxLQUFLLE1BRXRCUCxFQUFrQixTQUFDRyxHQUVqQixNQURBQSxHQUFRRixFQUFpQkUsR0FDdEJWLEVBQUtZLE9BQU9DLFFBQVFILEdBQ2RBLEVBQU1LLE1BQU0sU0FJdkJULEVBQWtCLFNBQUNJLEdBQ2pCLE1BQU8sU0FBU00sS0FBS04sSUFFdkJMLEVBQVUsU0FBQ0ssR0FDVCxNQUFPVixHQUFLaUIsU0FBU1AsSUFBVyxNQUFBQSxFQUFBUSxVQUFvQixNQUFBUixFQUFBUyxXQUFxQixNQUFBVCxFQUFBVSxXQUFxQixNQUFBVixFQUFBVyxZQUVoR1osRUFBVyxTQUFDYSxFQUFRQyxHQUNsQixHQUFBQyxHQUFBQyxDQUFBLElBQU9GLEVBQVFkLFNBMEJmLE1BdkJBZ0IsR0FBTyxPQUVQRCxFQUFhLFdBRVgsR0FBQUUsR0FBQUMsRUFBQUMsRUFBQUMsQ0FBQSxPQUFHLE9BQUE5QixFQUFBK0IsWUFBbUIvQixFQUFHK0IsV0FBV0MsTUFBTUMsY0FBY1YsSUFDdERJLEVBQUEsT0FBQUMs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QUNBLFNBQ0EsU0FBQzdGLEdBQ0MsTUFBTyxLQUdYWCxFQUFHa0csTUFBTU0sYUFDUCxZQUNBLFNBQ0EsU0FBQzdGLEdBQ0MsTUFBT1osU0FBUSxVQUFVLE1BR3RCQyxHQUVURyxFQUFVSCxHRG5ESEEiLCJmaWxlIjoia28tdHlwZWQuYXBwbGllZC51bWQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOltudWxsLCJhcHBseUtvdHIgPSAoa28pIC0+XHJcblxyXG5cclxuICB0eXBlTmFtZVRvU3RyaW5nID0gKHZhbHVlKSAtPlxyXG4gICAgaWYgbm90IHZhbHVlPyBvciB2YWx1ZS5sZW5ndGggPT0gMFxyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkXHJcbiAgICBlbHNlIGlmIGlzQW4uU3RyaW5nLkxpdGVyYWwodmFsdWUpXHJcbiAgICAgIHJldHVybiB2YWx1ZVxyXG4gICAgZWxzZVxyXG4gICAgICByZXR1cm4gdmFsdWUuam9pbignfCcpXHJcblxyXG4gIHR5cGVOYW1lVG9BcnJheSA9ICh2YWx1ZSkgLT5cclxuICAgIHZhbHVlID0gdHlwZU5hbWVUb1N0cmluZyh2YWx1ZSlcclxuICAgIGlmIGlzQW4uU3RyaW5nLkxpdGVyYWwodmFsdWUpXHJcbiAgICAgIHJldHVybiB2YWx1ZS5zcGxpdCgnfCcpXHJcbiAgICBlbHNlXHJcbiAgICAgIHJldHVybiBbXVxyXG5cclxuICBpc1ZhbGlkVHlwZU5hbWUgPSAodmFsdWUpIC0+XHJcbiAgICByZXR1cm4gL15bQS1aXS8udGVzdCh2YWx1ZSlcclxuXHJcbiAgaXNUeXBlZCA9ICh2YWx1ZSkgLT5cclxuICAgIHJldHVybiBpc0FuLkZ1bmN0aW9uKHZhbHVlKSBhbmQgdmFsdWUudHlwZU5hbWU/IGFuZCB2YWx1ZS50eXBlTmFtZXM/IGFuZCB2YWx1ZS50eXBlQ2hlY2s/IGFuZCB2YWx1ZS50eXBlQ2hlY2tzP1xyXG5cclxuICB2YWxpZGF0ZSA9ICh0YXJnZXQsIG9wdGlvbnMpIC0+XHJcbiAgICBpZiBub3Qgb3B0aW9ucy52YWxpZGF0ZVxyXG4gICAgICByZXR1cm5cclxuXHJcbiAgICBydWxlID0gdW5kZWZpbmVkXHJcblxyXG4gICAgZXJyb3JDaGVjayA9ICgpIC0+XHJcbiAgICAgICMgVHJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9Lbm9ja291dC1Db250cmliL0tub2Nrb3V0LVZhbGlkYXRpb25cclxuICAgICAgaWYga28udmFsaWRhdGlvbj8gYW5kIGtvLnZhbGlkYXRpb24udXRpbHMuaXNWYWxpZGF0YWJsZSh0YXJnZXQpXHJcbiAgICAgICAgbWVzc2FnZSA9IG9wdGlvbnMubWVzc2FnZSA/ICh0YXJnZXQudHlwZVdyaXRlRXJyb3IoKSA/IHRhcmdldC50eXBlUmVhZEVycm9yKCkpPy5tZXNzYWdlXHJcbiAgICAgICAgaWYgbm90IHJ1bGU/XHJcbiAgICAgICAgICBydWxlID0ge1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogKCkgLT5cclxuICAgICAgICAgICAgICBub3QgdGFyZ2V0LnR5cGVXcml0ZUVycm9yKCk/IGFuZCBub3QgdGFyZ2V0LnR5cGVSZWFkRXJyb3IoKT9cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGtvLnZhbGlkYXRpb24uYWRkQW5vbnltb3VzUnVsZSh0YXJnZXQsIHJ1bGUpXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgcnVsZS5tZXNzYWdlID0gbWVzc2FnZVxyXG4gICAgICAgICAgdGFyZ2V0LnJ1bGVzLnZhbHVlSGFzTXV0YXRlZCgpXHJcblxyXG4gICAgdGFyZ2V0LnR5cGVXcml0ZUVycm9yLnN1YnNjcmliZShlcnJvckNoZWNrKVxyXG4gICAgdGFyZ2V0LnR5cGVSZWFkRXJyb3Iuc3Vic2NyaWJlKGVycm9yQ2hlY2spXHJcblxyXG4gICAgaWYga28udmFsaWRhdGlvbj9cclxuICAgICAgdGFyZ2V0LmV4dGVuZCh7IHZhbGlkYXRhYmxlOiB0cnVlIH0pXHJcblxyXG4gICAgaWYgbm90IG9wdGlvbnMuZGVmZXJFdmFsdWF0aW9uXHJcbiAgICAgIGVycm9yQ2hlY2soKVxyXG5cclxuICBrby5leHRlbmRlcnMudHlwZSA9ICh0YXJnZXQsIG9wdGlvbnMpIC0+XHJcbiAgICAjIFJlcXVpcmVzXHJcbiAgICAjIHR5cGVOYW1lIDogU3RyaW5nXHJcbiAgICAjIHR5cGVOYW1lcyA6IEFycmF5IG9mIFN0cmluZ1xyXG4gICAgIyB0eXBlQ2hlY2sgOiBmdW5jdGlvbiAodmFsdWUpIHsgLi4uIH1cclxuICAgICMgdHlwZUNoZWNrcyA6IHsgdHlwZU5hbWU6IGZ1bmN0aW9uIGlzVHlwZSh2YWx1ZSkgeyAuLi4gfSwgLi4uIH1cclxuXHJcbiAgICBpZiBpc0FuLlN0cmluZy5MaXRlcmFsKG9wdGlvbnMpIG9yIGlzQW4uQXJyYXkob3B0aW9ucylcclxuICAgICAgIyAuZXh0ZW5kKHsgdHlwZTogJ1R5cGVOYW1lfFR5cGVOYW1lfFR5cGVOYW1lJyB9KVxyXG4gICAgICAjIC5leHRlbmQoeyB0eXBlOiBbJ1R5cGVOYW1lJywnVHlwZU5hbWUnLC4uLl0gfSlcclxuICAgICAgb3B0aW9ucyA9IHsgdHlwZTogb3B0aW9ucyB9XHJcbiAgICBlbHNlIGlmIGlzQW4uRnVuY3Rpb24ob3B0aW9ucylcclxuICAgICAgIyAuZXh0ZW5kKHsgdHlwZTogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0cnVlfGZhbHNlOyB9IH0pXHJcbiAgICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlTmFtZVxyXG4gICAgICAgIGNoZWNrOiBvcHRpb25zXHJcbiAgICAgIH1cclxuXHJcbiAgICBvcHRpb25zID0ga28udXRpbHMuZXh0ZW5kKGtvLnV0aWxzLmV4dGVuZCh7fSwga28uZXh0ZW5kZXJzLnR5cGUub3B0aW9ucyksIG9wdGlvbnMpXHJcblxyXG4gICAgaWYgb3B0aW9ucy51c2VEZWZhdWx0IGFuZCBub3Qgb3B0aW9ucy5kZWZhdWx0RnVuYz9cclxuICAgICAgb3B0aW9ucy5kZWZhdWx0RnVuYyA9ICgpIC0+IG9wdGlvbnMuZGVmYXVsdFxyXG5cclxuICAgICMgR2F0aGVyIHR5cGUgbmFtZXNcclxuICAgIHR5cGVOYW1lcyA9IHR5cGVOYW1lVG9BcnJheShvcHRpb25zLnR5cGUpXHJcblxyXG4gICAgZG8gLT5cclxuICAgICAgZm9yIG93biBuYW1lLCBjaGVjayBvZiBvcHRpb25zXHJcbiAgICAgICAgaWYgbm90IGlzVmFsaWRUeXBlTmFtZShuYW1lKVxyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICBpZiB0eXBlTmFtZXMuaW5kZXhPZihuYW1lKSA9PSAtMVxyXG4gICAgICAgICAgdHlwZU5hbWVzLnB1c2gobmFtZSlcclxuXHJcbiAgICB0eXBlTmFtZSA9IHR5cGVOYW1lVG9TdHJpbmcodHlwZU5hbWVzKVxyXG5cclxuICAgICMgY2hlY2tzXHJcbiAgICB0eXBlQ2hlY2tzID0ge31cclxuICAgIGRvIC0+XHJcbiAgICAgIGZvciBuYW1lIGluIHR5cGVOYW1lc1xyXG4gICAgICAgIHR5cGVDaGVja3NbbmFtZV0gPSBvcHRpb25zW25hbWVdID8gaXNBbihuYW1lLCB7IHJldHVybkNoZWNrZXI6IHRydWUgfSlcclxuXHJcbiAgICAjIGNoZWNrXHJcbiAgICB0eXBlQ2hlY2sgPSBkbyAtPlxyXG4gICAgICBfY2hlY2sgPSBvcHRpb25zLmNoZWNrID8gKCgpIC0+IHRydWUpXHJcbiAgICAgIHJldHVybiAodmFsdWUpIC0+XHJcbiAgICAgICAgX2NoZWNrKHZhbHVlKSBhbmQgKCh0eXBlTmFtZXMubGVuZ3RoID09IDApIG9yICh0eXBlTmFtZXMuc29tZSgobmFtZSkgLT4gdHlwZUNoZWNrc1tuYW1lXSh2YWx1ZSkpKSlcclxuXHJcbiAgICByZXN1bHQgPSBrby5jb21wdXRlZCh7XHJcbiAgICAgIHB1cmU6IG9wdGlvbnMucHVyZVxyXG4gICAgICBkZWZlckV2YWx1YXRpb246IG9wdGlvbnMuZGVmZXJFdmFsdWF0aW9uXHJcblxyXG4gICAgICByZWFkOiAoKSAtPlxyXG4gICAgICAgIHRyeVxyXG4gICAgICAgICAgaW50ZXJuYWxWYWx1ZSA9IHRhcmdldCgpXHJcblxyXG4gICAgICAgICAgaWYgbm90IHR5cGVDaGVjayhpbnRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5leHBlY3RlZCBpbnRlcm5hbCB0eXBlLiBFeHBlY3RlZCAje3R5cGVOYW1lfSwgZ290ICN7aXNBbihpbnRlcm5hbFZhbHVlKX1cIilcclxuXHJcbiAgICAgICAgY2F0Y2ggZXhcclxuICAgICAgICAgIGlmIGV4IGluc3RhbmNlb2YgVHlwZUVycm9yXHJcbiAgICAgICAgICAgIHJlc3VsdC50eXBlUmVhZEVycm9yKGV4KVxyXG5cclxuICAgICAgICAgICAgaWYgb3B0aW9ucy51c2VEZWZhdWx0XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGVmYXVsdEZ1bmMoKVxyXG5cclxuICAgICAgICAgIHRocm93IGV4XHJcblxyXG4gICAgICAgIHJlc3VsdC50eXBlUmVhZEVycm9yKHVuZGVmaW5lZClcclxuICAgICAgICByZXR1cm4gaW50ZXJuYWxWYWx1ZVxyXG5cclxuICAgICAgd3JpdGU6IChleHRlcm5hbFZhbHVlKSAtPlxyXG4gICAgICAgIHRyeVxyXG4gICAgICAgICAgaWYgdHlwZUNoZWNrKGV4dGVybmFsVmFsdWUpXHJcbiAgICAgICAgICAgIHRhcmdldChleHRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5leHBlY3RlZCBleHRlcm5hbCB0eXBlLiBFeHBlY3RlZCAje3R5cGVOYW1lfSwgcmVjZWl2ZWQgI3tpc0FuKGV4dGVybmFsVmFsdWUpfVwiKVxyXG4gICAgICAgIGNhdGNoIGV4XHJcbiAgICAgICAgICBpZiBleCBpbnN0YW5jZW9mIFR5cGVFcnJvclxyXG4gICAgICAgICAgICByZXN1bHQudHlwZVdyaXRlRXJyb3IoZXgpXHJcblxyXG4gICAgICAgICAgICBpZiBvcHRpb25zLm5vVGhyb3dcclxuICAgICAgICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgICAgICB0aHJvdyBleFxyXG5cclxuICAgICAgICByZXN1bHQudHlwZVdyaXRlRXJyb3IodW5kZWZpbmVkKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXN1bHQudHlwZU5hbWUgPSB0eXBlTmFtZVxyXG4gICAgcmVzdWx0LnR5cGVOYW1lcyA9IHR5cGVOYW1lc1xyXG4gICAgcmVzdWx0LnR5cGVDaGVjayA9IHR5cGVDaGVja1xyXG4gICAgcmVzdWx0LnR5cGVDaGVja3MgPSB0eXBlQ2hlY2tzXHJcblxyXG4gICAgcmVzdWx0LnR5cGVXcml0ZUVycm9yID0ga28ub2JzZXJ2YWJsZSgpXHJcbiAgICByZXN1bHQudHlwZVJlYWRFcnJvciA9IGtvLm9ic2VydmFibGUoKVxyXG5cclxuICAgIHZhbGlkYXRlKHJlc3VsdCwgb3B0aW9ucylcclxuXHJcbiAgICBpZiBvcHRpb25zLnB1cmUgYW5kIG5vdCBvcHRpb25zLmRlZmVyRXZhbHVhdGlvblxyXG4gICAgICAjIGZvcmNlIGltbWVkaWF0ZSByZWFkXHJcbiAgICAgIHJlc3VsdCgpXHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICBrby5leHRlbmRlcnMudHlwZS5vcHRpb25zID0ge1xyXG4gICAgdmFsaWRhdGU6IHRydWVcclxuICAgIG1lc3NhZ2U6IHVuZGVmaW5lZFxyXG4gICAgbm9UaHJvdzogZmFsc2VcclxuICAgIHVzZURlZmF1bHQ6IGZhbHNlXHJcbiAgICAjIGRlZmF1bHRcclxuICAgICMgZGVmYXVsdEZ1bmNcclxuICAgIHB1cmU6IHRydWVcclxuICAgIGRlZmVyRXZhbHVhdGlvbjogdHJ1ZVxyXG4gIH1cclxuXHJcblxyXG4gIGtvLmV4dGVuZGVycy5jb252ZXJ0ID0gKHRhcmdldCwgb3B0aW9ucykgLT5cclxuICAgICMgbm9ybWFsaXplIG9wdGlvbnNcclxuICAgIGRvIC0+XHJcbiAgICAgIGlmIGlzQW4uU3RyaW5nKG9wdGlvbnMpIG9yIGlzQW4uQXJyYXkob3B0aW9ucylcclxuICAgICAgICBvcHRpb25zID0geyB0eXBlOiBvcHRpb25zIH1cclxuXHJcbiAgICAgICMgbWVyZ2Ugb3B0aW9uc1xyXG4gICAgICBvcHRpb25zID0ga28udXRpbHMuZXh0ZW5kKGtvLnV0aWxzLmV4dGVuZCh7fSwga28uZXh0ZW5kZXJzLmNvbnZlcnQub3B0aW9ucyksIG9wdGlvbnMpXHJcblxyXG4gICAgICBmaW5hbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgY2hlY2tTZWxmOiBvcHRpb25zLmNoZWNrID8gKCkgLT4gdHJ1ZVxyXG4gICAgICAgIHJlYWQ6IG9wdGlvbnMucmVhZFxyXG4gICAgICAgIHdyaXRlOiBvcHRpb25zLndyaXRlXHJcbiAgICAgICAgY2hlY2tzOiB7fVxyXG4gICAgICAgIGNoZWNrZXJzOiBbXVxyXG4gICAgICAgIGlzVHlwZWQ6IGlzVHlwZWQodGFyZ2V0KVxyXG4gICAgICAgIGlnbm9yZURlZmF1bHRDb252ZXJ0ZXJzOiBvcHRpb25zLmlnbm9yZURlZmF1bHRDb252ZXJ0ZXJzXHJcbiAgICAgICAgcHVyZTogb3B0aW9ucy5wdXJlXHJcbiAgICAgICAgZGVmZXJFdmFsdWF0aW9uOiBvcHRpb25zLmRlZmVyRXZhbHVhdGlvblxyXG4gICAgICAgIGRlZmF1bHRGdW5jOiBvcHRpb25zLmRlZmF1bHRGdW5jXHJcbiAgICAgICAgbm9UaHJvdzogb3B0aW9ucy5ub1Rocm93XHJcbiAgICAgICAgbWVzc2FnZTogb3B0aW9ucy5tZXNzYWdlXHJcbiAgICAgICAgdXNlRGVmYXVsdDogb3B0aW9ucy51c2VEZWZhdWx0XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIGZpbmFsT3B0aW9ucy51c2VEZWZhdWx0IGFuZCBub3Qgb3B0aW9ucy5kZWZhdWx0RnVuYz9cclxuICAgICAgICBmaW5hbE9wdGlvbnMuZGVmYXVsdCA9IG9wdGlvbnMuZGVmYXVsdFxyXG4gICAgICAgIGZpbmFsT3B0aW9ucy5kZWZhdWx0RnVuYyA9ICgpIC0+IGZpbmFsT3B0aW9ucy5kZWZhdWx0XHJcblxyXG4gICAgICBmaW5hbE9wdGlvbnMuY2hlY2tlcnMucHVzaChmaW5hbE9wdGlvbnMuY2hlY2tTZWxmKVxyXG5cclxuICAgICAgIyBHYXRoZXIgYWxsIGV4dGVybmFsIHR5cGVzXHJcbiAgICAgIGZpbmFsT3B0aW9ucy50eXBlcyA9IHR5cGVOYW1lVG9BcnJheShvcHRpb25zLnR5cGUpXHJcbiAgICAgIGZvciBvd24gZXh0VHlwZU5hbWUgb2Ygb3B0aW9uc1xyXG4gICAgICAgIGlmIG5vdCBpc1ZhbGlkVHlwZU5hbWUoZXh0VHlwZU5hbWUpXHJcbiAgICAgICAgICBjb250aW51ZVxyXG5cclxuICAgICAgICAjIEFkZCBleHRlcm5hbCB0eXBlXHJcbiAgICAgICAgaWYgZmluYWxPcHRpb25zLnR5cGVzLmluZGV4T2YoZXh0VHlwZU5hbWUpID09IC0xXHJcbiAgICAgICAgICBmaW5hbE9wdGlvbnMudHlwZXMucHVzaChleHRUeXBlTmFtZSlcclxuXHJcbiAgICAgICMgRXhwYW5kIGVhY2ggRXh0ZXJuYWwgVHlwZVxyXG4gICAgICBmb3IgZXh0VHlwZU5hbWUgaW4gZmluYWxPcHRpb25zLnR5cGVzXHJcbiAgICAgICAgZXh0VHlwZU9wdGlvbnMgPSBvcHRpb25zW2V4dFR5cGVOYW1lXSA/IHt9XHJcblxyXG4gICAgICAgIGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV0gPSB7XHJcbiAgICAgICAgICBjaGVja1NlbGY6IGV4dFR5cGVPcHRpb25zLmNoZWNrID8gaXNBbihleHRUeXBlTmFtZSwgeyByZXR1cm5DaGVja2VyOiB0cnVlIH0pID8gKCkgLT4gdHJ1ZVxyXG4gICAgICAgICAgcmVhZDogZXh0VHlwZU9wdGlvbnMucmVhZFxyXG4gICAgICAgICAgd3JpdGU6IGV4dFR5cGVPcHRpb25zLndyaXRlXHJcbiAgICAgICAgICB0eXBlczogdHlwZU5hbWVUb0FycmF5KGV4dFR5cGVPcHRpb25zLnR5cGUpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjaGVja1BhcmVudCA9IGZpbmFsT3B0aW9ucy5jaGVja1NlbGZcclxuICAgICAgICBmaW5hbE9wdGlvbnMuY2hlY2tlcnMucHVzaChmaW5hbE9wdGlvbnNbZXh0VHlwZU5hbWVdLmNoZWNrU2VsZilcclxuICAgICAgICBmaW5hbE9wdGlvbnMuY2hlY2tzW2V4dFR5cGVOYW1lXSA9IGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV0uY2hlY2sgPSBkbyAoZXh0VHlwZU5hbWUpIC0+XHJcbiAgICAgICAgICAodmFsdWUpIC0+IGZpbmFsT3B0aW9ucy5jaGVja1NlbGYodmFsdWUpIGFuZCBmaW5hbE9wdGlvbnNbZXh0VHlwZU5hbWVdLmNoZWNrU2VsZih2YWx1ZSlcclxuXHJcbiAgICAgICAgIyBHYXRoZXIgYWxsIGludGVybmFsIHR5cGVzXHJcbiAgICAgICAgZm9yIG93biBpbnRUeXBlTmFtZSBvZiBleHRUeXBlT3B0aW9uc1xyXG4gICAgICAgICAgaWYgbm90IGlzVmFsaWRUeXBlTmFtZShpbnRUeXBlTmFtZSlcclxuICAgICAgICAgICAgY29udGludWVcclxuXHJcbiAgICAgICAgICAjIEFkZCBpbnRlcm5hbCB0eXBlXHJcbiAgICAgICAgICBpZiBmaW5hbE9wdGlvbnNbZXh0VHlwZU5hbWVdLnR5cGVzLmluZGV4T2YoaW50VHlwZU5hbWUpID09IC0xXHJcbiAgICAgICAgICAgIGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV0udHlwZXMucHVzaChpbnRUeXBlTmFtZSlcclxuXHJcbiAgICAgICAgIyBFeHBhbmQgYWxsIGludGVybmFsIHR5cGVzXHJcbiAgICAgICAgZm9yIGludFR5cGVOYW1lIGluIGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV0udHlwZXNcclxuICAgICAgICAgIGludFR5cGVPcHRpb25zID0gb3B0aW9uc1tleHRUeXBlTmFtZV0/W2ludFR5cGVOYW1lXSA/IHt9XHJcblxyXG4gICAgICAgICAgZmluYWxPcHRpb25zW2V4dFR5cGVOYW1lXVtpbnRUeXBlTmFtZV0gPSB7XHJcbiAgICAgICAgICAgIGNoZWNrU2VsZjogaW50VHlwZU9wdGlvbnMuY2hlY2tcclxuICAgICAgICAgICAgcmVhZDogaW50VHlwZU9wdGlvbnMucmVhZFxyXG4gICAgICAgICAgICB3cml0ZTogaW50VHlwZU9wdGlvbnMud3JpdGVcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiBub3QgZmluYWxPcHRpb25zW2V4dFR5cGVOYW1lXVtpbnRUeXBlTmFtZV0uY2hlY2tTZWxmP1xyXG4gICAgICAgICAgICBmaW5hbE9wdGlvbnNbZXh0VHlwZU5hbWVdW2ludFR5cGVOYW1lXS5jaGVjayA9IGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV1baW50VHlwZU5hbWVdLmNoZWNrU2VsZiA9IGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV0uY2hlY2tTZWxmXHJcbiAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV1baW50VHlwZU5hbWVdLmNoZWNrID0gZG8gKGV4dFR5cGVOYW1lLCBpbnRUeXBlTmFtZSkgLT5cclxuICAgICAgICAgICAgICAodmFsdWUpIC0+IGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV0uY2hlY2sodmFsdWUpIGFuZCBmaW5hbE9wdGlvbnNbZXh0VHlwZU5hbWVdW2ludFR5cGVOYW1lXS5jaGVja1NlbGYodmFsdWUpXHJcblxyXG4gICAgICAgIGZpbmFsT3B0aW9uc1tleHRUeXBlTmFtZV0udHlwZSA9IHR5cGVOYW1lVG9TdHJpbmcoZmluYWxPcHRpb25zW2V4dFR5cGVOYW1lXS50eXBlcylcclxuXHJcbiAgICAgIGZpbmFsT3B0aW9ucy50eXBlID0gdHlwZU5hbWVUb1N0cmluZyhmaW5hbE9wdGlvbnMudHlwZXMpXHJcbiAgICAgIGZpbmFsT3B0aW9ucy5jaGVjayA9ICh2YWx1ZSkgLT5cclxuICAgICAgICBmaW5hbE9wdGlvbnMuY2hlY2tTZWxmKHZhbHVlKSBhbmQgKChmaW5hbE9wdGlvbnMuY2hlY2tlcnMubGVuZ3RoID09IDApIG9yIGZpbmFsT3B0aW9ucy5jaGVja2Vycy5zb21lKChjaGVja2VyKSAtPiBjaGVja2VyKHZhbHVlKSkpXHJcblxyXG4gICAgICBvcHRpb25zID0gZmluYWxPcHRpb25zXHJcblxyXG4gICAgcmVzdWx0ID0ga28uY29tcHV0ZWQoe1xyXG4gICAgICBwdXJlOiBvcHRpb25zLnB1cmVcclxuICAgICAgZGVmZXJFdmFsdWF0aW9uOiBvcHRpb25zLmRlZmVyRXZhbHVhdGlvblxyXG5cclxuICAgICAgcmVhZDogKCkgLT5cclxuICAgICAgICB0cnlcclxuICAgICAgICAgIGludGVybmFsVmFsdWUgPSB0YXJnZXQoKVxyXG4gICAgICAgICAgZXh0ZXJuYWxWYWx1ZSA9IHVuZGVmaW5lZFxyXG5cclxuICAgICAgICAgICMgVHJ5IGV4YWN0IGludGVybmFsIHR5cGUgbWF0Y2hcclxuICAgICAgICAgIHRyeVJlYWQgPSAoY29udmVydCwgb3B0aW9ucykgLT5cclxuICAgICAgICAgICAgaWYgY29udmVydD9cclxuICAgICAgICAgICAgICB0cnlcclxuICAgICAgICAgICAgICAgIGV4dGVybmFsVmFsdWUgPSBjb252ZXJ0KGludGVybmFsVmFsdWUsIG9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgY2F0Y2ggZXhcclxuICAgICAgICAgICAgICAgIGlmIGV4IG5vdCBpbnN0YW5jZW9mIFR5cGVFcnJvclxyXG4gICAgICAgICAgICAgICAgICB0aHJvdyBleFxyXG5cclxuICAgICAgICAgICAgICBpZiBub3QgZXg/XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgICAgICAgIyBMb29rIGZvciBzcGVjaWZpYyBjb252ZXJzaW9uXHJcbiAgICAgICAgICBmb3IgZXh0VHlwZU5hbWUgaW4gb3B0aW9ucy50eXBlc1xyXG4gICAgICAgICAgICBleHRUeXBlT3B0aW9ucyA9IG9wdGlvbnNbZXh0VHlwZU5hbWVdXHJcblxyXG4gICAgICAgICAgICAjIGdvIGJ5IG91ciBvcmRlclxyXG4gICAgICAgICAgICBpbnRUeXBlTmFtZXMgPSBleHRUeXBlT3B0aW9ucy50eXBlc1xyXG5cclxuICAgICAgICAgICAgaWYgaW50VHlwZU5hbWVzLmxlbmd0aCA9PSAwIGFuZCBub3QgZXh0VHlwZU9wdGlvbnMucmVhZD9cclxuICAgICAgICAgICAgICBpZiBvcHRpb25zLmlzVHlwZWRcclxuICAgICAgICAgICAgICAgICMgZ28gYnkgdGFyZ2V0IG9yZGVyXHJcbiAgICAgICAgICAgICAgICBpbnRUeXBlTmFtZXMgPSB0YXJnZXQudHlwZU5hbWVzXHJcbiAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgIyBnbyBieSBpbmZlcnJlZCBvcmRlclxyXG4gICAgICAgICAgICAgICAgaW50VHlwZU5hbWVzID0gW2lzQW4oaW50ZXJuYWxWYWx1ZSldXHJcblxyXG4gICAgICAgICAgICBmb3IgaW50VHlwZU5hbWUgaW4gaW50VHlwZU5hbWVzXHJcbiAgICAgICAgICAgICAgIyBjaGVjayBpbnRlcm5hbCB0eXBlXHJcbiAgICAgICAgICAgICAgaWYgb3B0aW9ucy5pc1R5cGVkXHJcbiAgICAgICAgICAgICAgICBpZiBub3QgdGFyZ2V0LnR5cGVDaGVja3NbaW50VHlwZU5hbWVdPyhpbnRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGlmIG5vdCBpc0FuKGludGVybmFsVmFsdWUsIGludFR5cGVOYW1lKVxyXG4gICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG5cclxuICAgICAgICAgICAgICAjIGdldCB0aGUgb3B0aW9uc1xyXG4gICAgICAgICAgICAgIGludFR5cGVPcHRpb25zID0gZXh0VHlwZU9wdGlvbnNbaW50VHlwZU5hbWVdID8geyBjaGVjazogZXh0VHlwZU9wdGlvbnMuY2hlY2sgfVxyXG5cclxuICAgICAgICAgICAgICAjIHRyeSBzcGVjaWZpYyBjb252ZXJzaW9uc1xyXG4gICAgICAgICAgICAgIGlmIHRyeVJlYWQoaW50VHlwZU9wdGlvbnMucmVhZCwgaW50VHlwZU9wdGlvbnMucmVhZE9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICBpZiBpbnRUeXBlT3B0aW9ucy5jaGVjayhleHRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZXh0ZXJuYWxWYWx1ZVxyXG5cclxuICAgICAgICAgICAgICAjIHRyeSBubyBjb252ZXJzaW9uXHJcbiAgICAgICAgICAgICAgaWYgZXh0VHlwZU5hbWUgPT0gaW50VHlwZU5hbWVcclxuICAgICAgICAgICAgICAgIGlmIGludFR5cGVPcHRpb25zLmNoZWNrKGludGVybmFsVmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgIGV4dGVybmFsVmFsdWUgPSBpbnRlcm5hbFZhbHVlXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBleHRlcm5hbFZhbHVlXHJcblxyXG4gICAgICAgICAgICAgICMgdHJ5IGRlZmF1bHQgY29udmVyc2lvblxyXG4gICAgICAgICAgICAgIGlmIG5vdCBvcHRpb25zLmlnbm9yZURlZmF1bHRDb252ZXJ0ZXJzXHJcbiAgICAgICAgICAgICAgICBpZiB0cnlSZWFkKGtvLnR5cGVkLmdldENvbnZlcnRlcihpbnRUeXBlTmFtZSwgZXh0VHlwZU5hbWUpLCBpbnRUeXBlT3B0aW9ucy5yZWFkT3B0aW9ucylcclxuICAgICAgICAgICAgICAgICAgaWYgaW50VHlwZU9wdGlvbnMuY2hlY2soZXh0ZXJuYWxWYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXh0ZXJuYWxWYWx1ZVxyXG5cclxuICAgICAgICAgICMgTG9vayBmb3Igb25lLXNpZGVkIGNvbnZlcnNpb25cclxuICAgICAgICAgIGZvciBleHRUeXBlTmFtZSBpbiBvcHRpb25zLnR5cGVzXHJcbiAgICAgICAgICAgIGV4dFR5cGVPcHRpb25zID0gb3B0aW9uc1tleHRUeXBlTmFtZV1cclxuXHJcbiAgICAgICAgICAgIGlmIHRyeVJlYWQoZXh0VHlwZU9wdGlvbnMucmVhZCwgZXh0VHlwZU9wdGlvbnMucmVhZE9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgaWYgZXh0VHlwZU9wdGlvbnMuY2hlY2soZXh0ZXJuYWxWYWx1ZSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBleHRlcm5hbFZhbHVlXHJcblxyXG4gICAgICAgICAgIyBMb29rIGZvciBnZW5lcmljIGNvbnZlcnNpb25cclxuICAgICAgICAgIGlmIHRyeVJlYWQob3B0aW9ucy5yZWFkLCBvcHRpb25zLnJlYWRPcHRpb25zKVxyXG4gICAgICAgICAgICBpZiBvcHRpb25zLmNoZWNrKGV4dGVybmFsVmFsdWUpXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGV4dGVybmFsVmFsdWVcclxuXHJcbiAgICAgICAgICBpZiBvcHRpb25zLnR5cGVzLmxlbmd0aCA9PSAwXHJcbiAgICAgICAgICAgIGlmIG9wdGlvbnMuY2hlY2soZXh0ZXJuYWxWYWx1ZSlcclxuICAgICAgICAgICAgICBleHRlcm5hbFZhbHVlID0gaW50ZXJuYWxWYWx1ZVxyXG4gICAgICAgICAgICAgIHJldHVybiBleHRlcm5hbFZhbHVlXHJcblxyXG4gICAgICAgICAgaWYgb3B0aW9ucy50eXBlP1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5hYmxlIHRvIGNvbnZlcnQgZnJvbSBpbnRlcm5hbCB0eXBlICN7aXNBbihpbnRlcm5hbFZhbHVlKX0gdG8gZXh0ZXJuYWwgdHlwZSAje29wdGlvbnMudHlwZX1cIilcclxuICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byBjb252ZXJ0IGZyb20gaW50ZXJuYWwgdHlwZSAje2lzQW4oaW50ZXJuYWxWYWx1ZSl9XCIpXHJcbiAgICAgICAgY2F0Y2ggZXhcclxuICAgICAgICAgIGlmIGV4IGluc3RhbmNlb2YgVHlwZUVycm9yXHJcbiAgICAgICAgICAgIHJlc3VsdC50eXBlUmVhZEVycm9yKGV4KVxyXG5cclxuICAgICAgICAgICAgaWYgb3B0aW9ucy51c2VEZWZhdWx0XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGVmYXVsdEZ1bmMoKVxyXG5cclxuICAgICAgICAgIHRocm93IGV4XHJcbiAgICAgICAgZmluYWxseVxyXG4gICAgICAgICAgaWYgbm90IGV4P1xyXG4gICAgICAgICAgICByZXN1bHQudHlwZVJlYWRFcnJvcih1bmRlZmluZWQpXHJcblxyXG4gICAgICB3cml0ZTogKGV4dGVybmFsVmFsdWUpIC0+XHJcbiAgICAgICAgdHJ5XHJcbiAgICAgICAgICB0cnlXcml0ZSA9IChjb252ZXJ0LCBvcHRpb25zKSAtPlxyXG4gICAgICAgICAgICBpZiBjb252ZXJ0P1xyXG4gICAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxWYWx1ZSA9IGNvbnZlcnQoZXh0ZXJuYWxWYWx1ZSwgb3B0aW9ucylcclxuICAgICAgICAgICAgICBjYXRjaCBleFxyXG4gICAgICAgICAgICAgICAgaWYgZXggbm90IGluc3RhbmNlb2YgVHlwZUVycm9yXHJcbiAgICAgICAgICAgICAgICAgIHRocm93IGV4XHJcblxyXG4gICAgICAgICAgICAgIGlmIG5vdCBleD9cclxuICAgICAgICAgICAgICAgIHRhcmdldChpbnRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG5cclxuICAgICAgICAgICMgTG9vayBmb3Igc3BlY2lmaWMgY29udmVyc2lvblxyXG4gICAgICAgICAgZm9yIGV4dFR5cGVOYW1lIGluIG9wdGlvbnMudHlwZXNcclxuICAgICAgICAgICAgZXh0VHlwZU9wdGlvbnMgPSBvcHRpb25zW2V4dFR5cGVOYW1lXVxyXG5cclxuICAgICAgICAgICAgaWYgbm90IGV4dFR5cGVPcHRpb25zLmNoZWNrKGV4dGVybmFsVmFsdWUpXHJcbiAgICAgICAgICAgICAgY29udGludWVcclxuXHJcbiAgICAgICAgICAgICMgZ28gYnkgb3VyIG9yZGVyXHJcbiAgICAgICAgICAgIGludFR5cGVOYW1lcyA9IGV4dFR5cGVPcHRpb25zLnR5cGVzXHJcblxyXG4gICAgICAgICAgICBpZiBpbnRUeXBlTmFtZXMubGVuZ3RoID09IDAgYW5kIG5vdCBleHRUeXBlT3B0aW9ucy53cml0ZT9cclxuICAgICAgICAgICAgICBpZiBvcHRpb25zLmlzVHlwZWRcclxuICAgICAgICAgICAgICAgICMgZ28gYnkgdGFyZ2V0IG9yZGVyXHJcbiAgICAgICAgICAgICAgICBpbnRUeXBlTmFtZXMgPSB0YXJnZXQudHlwZU5hbWVzXHJcbiAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgIyBnbyBieSBpbmZlcnJlZCBvcmRlclxyXG4gICAgICAgICAgICAgICAgaW50VHlwZU5hbWVzID0gW2lzQW4oZXh0ZXJuYWxWYWx1ZSldXHJcblxyXG4gICAgICAgICAgICBmb3IgaW50VHlwZU5hbWUgaW4gaW50VHlwZU5hbWVzXHJcbiAgICAgICAgICAgICAgaW50VHlwZU9wdGlvbnMgPSBleHRUeXBlT3B0aW9uc1tpbnRUeXBlTmFtZV0gPyB7fVxyXG5cclxuICAgICAgICAgICAgICBpZiBpbnRUeXBlT3B0aW9ucy5jaGVjaz8gYW5kIG5vdCBpbnRUeXBlT3B0aW9ucy5jaGVjayhleHRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgY29udGludWVcclxuXHJcbiAgICAgICAgICAgICAgIyB0cnkgc3BlY2lmaWMgY29udmVyc2lvbnNcclxuICAgICAgICAgICAgICBpZiB0cnlXcml0ZShpbnRUeXBlT3B0aW9ucy53cml0ZSwgaW50VHlwZU9wdGlvbnMud3JpdGVPcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcblxyXG4gICAgICAgICAgICAgICMgdHJ5IG5vIGNvbnZlcnNpb25cclxuICAgICAgICAgICAgICBpZiBleHRUeXBlTmFtZSA9PSBpbnRUeXBlTmFtZVxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0KGV4dGVybmFsVmFsdWUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuXHJcbiAgICAgICAgICAgICAgIyB0cnkgZGVmYXVsdCBjb252ZXJzaW9uXHJcbiAgICAgICAgICAgICAgaWYgbm90IG9wdGlvbnMuaWdub3JlRGVmYXVsdENvbnZlcnRlcnNcclxuICAgICAgICAgICAgICAgIGlmIHRyeVdyaXRlKGtvLnR5cGVkLmdldENvbnZlcnRlcihleHRUeXBlTmFtZSwgaW50VHlwZU5hbWUpLCBpbnRUeXBlT3B0aW9ucy53cml0ZU9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgIHJldHVyblxyXG5cclxuICAgICAgICAgICMgTG9vayBmb3Igb25lLXNpZGVkIGNvbnZlcnNpb25cclxuICAgICAgICAgIGZvciBleHRUeXBlTmFtZSBpbiBvcHRpb25zLnR5cGVzXHJcbiAgICAgICAgICAgIGV4dFR5cGVPcHRpb25zID0gb3B0aW9uc1tleHRUeXBlTmFtZV1cclxuXHJcbiAgICAgICAgICAgIGlmIG5vdCBleHRUeXBlT3B0aW9ucy5jaGVjayhleHRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgICAgIGNvbnRpbnVlXHJcblxyXG4gICAgICAgICAgICBpZiB0cnlXcml0ZShleHRUeXBlT3B0aW9ucy53cml0ZSwgZXh0VHlwZU9wdGlvbnMud3JpdGVPcHRpb25zKVxyXG4gICAgICAgICAgICAgIHJldHVyblxyXG5cclxuICAgICAgICAgICMgTG9vayBmb3IgZ2VuZXJpYyBjb252ZXJzaW9uXHJcbiAgICAgICAgICBpZiBvcHRpb25zLmNoZWNrKGV4dGVybmFsVmFsdWUpXHJcbiAgICAgICAgICAgIGlmIHRyeVdyaXRlKG9wdGlvbnMud3JpdGUsIG9wdGlvbnMud3JpdGVPcHRpb25zKVxyXG4gICAgICAgICAgICAgIHJldHVyblxyXG5cclxuICAgICAgICAgICAgaWYgb3B0aW9ucy50eXBlcy5sZW5ndGggPT0gMFxyXG4gICAgICAgICAgICAgIHRhcmdldChleHRlcm5hbFZhbHVlKVxyXG4gICAgICAgICAgICAgIHJldHVyblxyXG5cclxuICAgICAgICAgIGlmIG9wdGlvbnMuaXNUeXBlZFxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5hYmxlIHRvIGNvbnZlcnQgZnJvbSBleHRlcm5hbCB0eXBlICN7aXNBbihleHRlcm5hbFZhbHVlKX0gdG8gaW50ZXJuYWwgdHlwZSAje3RhcmdldC50eXBlTmFtZX1cIilcclxuICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byBjb252ZXJ0IGZyb20gZXh0ZXJuYWwgdHlwZSAje2lzQW4oZXh0ZXJuYWxWYWx1ZSl9XCIpXHJcbiAgICAgICAgY2F0Y2ggZXhcclxuICAgICAgICAgIGlmIGV4IGluc3RhbmNlb2YgVHlwZUVycm9yXHJcbiAgICAgICAgICAgIHJlc3VsdC50eXBlV3JpdGVFcnJvcihleClcclxuXHJcbiAgICAgICAgICAgIGlmIG9wdGlvbnMubm9UaHJvd1xyXG4gICAgICAgICAgICAgIHJldHVyblxyXG5cclxuICAgICAgICAgIHRocm93IGV4XHJcbiAgICAgICAgZmluYWxseVxyXG4gICAgICAgICAgaWYgbm90IGV4P1xyXG4gICAgICAgICAgICByZXN1bHQudHlwZVdyaXRlRXJyb3IodW5kZWZpbmVkKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXN1bHQudHlwZU5hbWUgPSBvcHRpb25zLnR5cGVcclxuICAgIHJlc3VsdC50eXBlTmFtZXMgPSBvcHRpb25zLnR5cGVzXHJcbiAgICByZXN1bHQudHlwZUNoZWNrID0gb3B0aW9ucy5jaGVja1xyXG4gICAgcmVzdWx0LnR5cGVDaGVja3MgPSBvcHRpb25zLmNoZWNrc1xyXG5cclxuICAgIHJlc3VsdC50eXBlUmVhZEVycm9yID0ga28ub2JzZXJ2YWJsZSgpXHJcbiAgICByZXN1bHQudHlwZVdyaXRlRXJyb3IgPSBrby5vYnNlcnZhYmxlKClcclxuXHJcbiAgICB2YWxpZGF0ZShyZXN1bHQsIG9wdGlvbnMpXHJcblxyXG4gICAgaWYgb3B0aW9ucy5wdXJlIGFuZCBub3Qgb3B0aW9ucy5kZWZlckV2YWx1YXRpb25cclxuICAgICAgIyBmb3JjZSBpbW1lZGlhdGUgcmVhZFxyXG4gICAgICByZXN1bHQoKVxyXG5cclxuICAgIHJldHVybiByZXN1bHRcclxuXHJcbiAga28uZXh0ZW5kZXJzLmNvbnZlcnQub3B0aW9ucyA9IHtcclxuICAgIHZhbGlkYXRlOiB0cnVlXHJcbiAgICBtZXNzYWdlOiB1bmRlZmluZWRcclxuICAgIG5vVGhyb3c6IGZhbHNlXHJcbiAgICBwdXJlOiB0cnVlXHJcbiAgICBkZWZlckV2YWx1YXRpb246IHRydWVcclxuICB9XHJcblxyXG4gIGtvLnR5cGVkID0ge31cclxuXHJcbiAgZG8gLT5cclxuICAgIGtvLnR5cGVkLl9jb252ZXJ0ZXJzID0gY29udmVydGVycyA9IHt9XHJcblxyXG4gICAga28udHlwZWQuYWRkQ29udmVydGVyID0gKGZyb21UeXBlTmFtZSwgdG9UeXBlTmFtZSwgY29udmVydGVyLCBkZWZhdWx0T3B0aW9ucywgZGVmYXVsdE9wdGlvbikgLT5cclxuICAgICAgY29uc29sZT8uYXNzZXJ0Pyhpc1ZhbGlkVHlwZU5hbWUoZnJvbVR5cGVOYW1lKSwgXCJJbnZhbGlkIHR5cGVOYW1lICN7ZnJvbVR5cGVOYW1lfVwiKVxyXG4gICAgICBjb25zb2xlPy5hc3NlcnQ/KGlzVmFsaWRUeXBlTmFtZSh0b1R5cGVOYW1lKSwgXCJJbnZhbGlkIHR5cGVOYW1lICN7ZnJvbVR5cGVOYW1lfVwiKVxyXG5cclxuICAgICAgaWYgZGVmYXVsdE9wdGlvbnM/XHJcbiAgICAgICAgaWYgZGVmYXVsdE9wdGlvbj9cclxuICAgICAgICAgIHdyYXBwZXIgPSAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgICAgICAgIGlmIG9wdGlvbnM/IGFuZCBub3QgaXNBbi5PYmplY3Qob3B0aW9ucylcclxuICAgICAgICAgICAgICBvID0ge31cclxuICAgICAgICAgICAgICBvW2RlZmF1bHRPcHRpb25dID0gb3B0aW9uc1xyXG4gICAgICAgICAgICAgIG9wdGlvbnMgPSBvXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29udmVydGVyKHZhbHVlLCBrby51dGlscy5leHRlbmQoa28udXRpbHMuZXh0ZW5kKHt9LCB3cmFwcGVyLm9wdGlvbnMpLCBvcHRpb25zKSlcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICB3cmFwcGVyID0gKHZhbHVlLCBvcHRpb25zKSAtPlxyXG4gICAgICAgICAgICByZXR1cm4gY29udmVydGVyKHZhbHVlLCBrby51dGlscy5leHRlbmQoa28udXRpbHMuZXh0ZW5kKHt9LCB3cmFwcGVyLm9wdGlvbnMpLCBvcHRpb25zKSlcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHdyYXBwZXIgPSAodmFsdWUpIC0+XHJcbiAgICAgICAgICByZXR1cm4gY29udmVydGVyKHZhbHVlKVxyXG5cclxuICAgICAgd3JhcHBlci5vcHRpb25zID0gZGVmYXVsdE9wdGlvbnNcclxuXHJcbiAgICAgIGNvbnZlcnRlcnNbZnJvbVR5cGVOYW1lXSA/PSB7fVxyXG4gICAgICBjb252ZXJ0ZXJzW2Zyb21UeXBlTmFtZV1bdG9UeXBlTmFtZV0gPSB3cmFwcGVyXHJcblxyXG4gICAgICByZXR1cm4ga28udHlwZWRcclxuXHJcbiAgICBrby50eXBlZC5nZXRDb252ZXJ0ZXIgPSAoZnJvbVR5cGVOYW1lLCB0b1R5cGVOYW1lKSAtPlxyXG4gICAgICBjb252ZXJ0ZXJzW2Zyb21UeXBlTmFtZV0/W3RvVHlwZU5hbWVdXHJcblxyXG4gICAga28udHlwZWQucmVtb3ZlQ29udmVydGVyID0gKGZyb21UeXBlTmFtZSwgdG9UeXBlTmFtZSkgLT5cclxuICAgICAgaWYgY29udmVydGVyc1tmcm9tVHlwZU5hbWVdP1t0b1R5cGVOYW1lXT9cclxuICAgICAgICBkZWxldGUgY29udmVydGVyc1tmcm9tVHlwZU5hbWVdP1t0b1R5cGVOYW1lXVxyXG5cclxuICAgICAgcmV0dXJuIGtvLnR5cGVkXHJcblxyXG4gICAgcmV0dXJuXHJcblxyXG5cclxuICBkbyAtPlxyXG4gICAgIyMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9yb3VuZFxyXG4gICAgZGVjaW1hbEFkanVzdCA9ICh0eXBlLCB2YWx1ZSwgZXhwKSAtPlxyXG4gICAgICAjIGlmIGV4cCBpcyB1bmRlZmluZWQgb3IgemVyb1xyXG4gICAgICBpZiBub3QgZXhwPyBvciArZXhwID09IDBcclxuICAgICAgICByZXR1cm4gdHlwZSh2YWx1ZSlcclxuXHJcbiAgICAgIHZhbHVlID0gK3ZhbHVlXHJcbiAgICAgIGV4cCA9ICtleHBcclxuXHJcbiAgICAgICMgSWYgdGhlIHZhbHVlIGl0IG5vdCBhIG51bWJlciBvZiB0aGUgZXhwIGlzIG5vdCBhbiBpbnRlZ2VyXHJcbiAgICAgIGlmIChpc05hTih2YWx1ZSkgb3Igbm90ICh0eXBlb2YgZXhwID09ICdudW1iZXInIGFuZCBleHAgJSAxID09IDApKVxyXG4gICAgICAgIHJldHVybiBOYU5cclxuXHJcbiAgICAgICMgU2hpZnRcclxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnNwbGl0KCdlJylcclxuICAgICAgdmFsdWUgPSB0eXBlKCsodmFsdWVbMF0gKyAnZScgKyAoaWYgdmFsdWVbMV0gdGhlbiAoK3ZhbHVlWzFdIC0gZXhwKSBlbHNlIC1leHApKSlcclxuXHJcbiAgICAgICMgU2hpZnQgYmFja1xyXG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoJ2UnKVxyXG4gICAgICByZXR1cm4gKCsodmFsdWVbMF0gKyAnZScgKyAoaWYgdmFsdWVbMV0gdGhlbiAoK3ZhbHVlWzFdICsgZXhwKSBlbHNlIGV4cCkpKVxyXG5cclxuICAgIGlmIG5vdCBNYXRoLnJvdW5kMTA/XHJcbiAgICAgIE1hdGgucm91bmQxMCA9ICh2YWx1ZSwgZXhwKSAtPlxyXG4gICAgICAgIHJldHVybiBkZWNpbWFsQWRqdXN0KE1hdGgucm91bmQsIHZhbHVlLCBleHApXHJcblxyXG4gICAgaWYgbm90IE1hdGguZmxvb3IxMD9cclxuICAgICAgTWF0aC5mbG9vcjEwID0gKHZhbHVlLCBleHApIC0+XHJcbiAgICAgICAgcmV0dXJuIGRlY2ltYWxBZGp1c3QoTWF0aC5mbG9vciwgdmFsdWUsIGV4cClcclxuXHJcbiAgICBpZiBub3QgTWF0aC5jZWlsMTA/XHJcbiAgICAgIE1hdGguY2VpbDEwID0gKHZhbHVlLCBleHApIC0+XHJcbiAgICAgICAgcmV0dXJuIGRlY2ltYWxBZGp1c3QoTWF0aC5jZWlsLCB2YWx1ZSwgZXhwKVxyXG5cclxuICAgIHJldHVyblxyXG5cclxuICBrby50eXBlZC5hZGRDb252ZXJ0ZXIoXHJcbiAgICAnQm9vbGVhbidcclxuICAgICdOdW1iZXIuSW50ZWdlcidcclxuICAgICh2YWx1ZSwgb3B0aW9ucykgLT5cclxuICAgICAgcmV0dXJuIGlmIHZhbHVlIHRoZW4gb3B0aW9ucy50cnV0aHkgZWxzZSBvcHRpb25zLmZhbHNleVxyXG4gICAge1xyXG4gICAgICB0cnV0aHk6IDFcclxuICAgICAgZmFsc2V5OiAwXHJcbiAgICB9XHJcbiAgICAndHJ1dGh5J1xyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ0Jvb2xlYW4nXHJcbiAgICAnTnVtYmVyJ1xyXG4gICAgKHZhbHVlLCBvcHRpb25zKSAtPlxyXG4gICAgICByZXR1cm4gaWYgdmFsdWUgdGhlbiBvcHRpb25zLnRydXRoeSBlbHNlIG9wdGlvbnMuZmFsc2V5XHJcbiAgICB7XHJcbiAgICAgIHRydXRoeTogMVxyXG4gICAgICBmYWxzZXk6IDBcclxuICAgIH1cclxuICAgICd0cnV0aHknXHJcbiAgKVxyXG5cclxuICBrby50eXBlZC5hZGRDb252ZXJ0ZXIoXHJcbiAgICAnQm9vbGVhbidcclxuICAgICdTdHJpbmcnXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIHZhbHVlID0gaWYgdmFsdWUgdGhlbiBvcHRpb25zLnRydXRoeSBlbHNlIG9wdGlvbnMuZmFsc2V5XHJcblxyXG4gICAgICBpZiBvcHRpb25zLnVwcGVyQ2FzZVxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9VcHBlckNhc2UoKVxyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICB7XHJcbiAgICAgIHVwcGVyQ2FzZTogZmFsc2VcclxuICAgICAgdHJ1dGh5OiAndHJ1ZSdcclxuICAgICAgZmFsc2V5OiAnZmFsc2UnXHJcbiAgICB9XHJcbiAgICAndXBwZXJDYXNlJ1xyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ0RhdGUnXHJcbiAgICAnTW9tZW50J1xyXG4gICAgKHZhbHVlLCBvcHRpb25zKSAtPlxyXG4gICAgICAobW9tZW50ID8gcmVxdWlyZSgnbW9tZW50JykpKHZhbHVlKVxyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ0RhdGUnXHJcbiAgICAnU3RyaW5nJ1xyXG4gICAgKHZhbHVlLCBvcHRpb25zKSAtPlxyXG4gICAgICBpZiBpc05hTih2YWx1ZS52YWx1ZU9mKCkpXHJcbiAgICAgICAgcmV0dXJuICcnXHJcblxyXG4gICAgICBtZXRob2QgPSBvcHRpb25zLmZvcm1hdHNbb3B0aW9ucy5mb3JtYXRdXHJcbiAgICAgIHJldHVybiB2YWx1ZVttZXRob2RdLmFwcGx5KHZhbHVlLCBvcHRpb25zLnBhcmFtcylcclxuXHJcbiAgICB7XHJcbiAgICAgIGZvcm1hdHM6IHtcclxuICAgICAgICBkYXRlOiAndG9EYXRlU3RyaW5nJ1xyXG4gICAgICAgIGlzbzogJ3RvSVNPU3RyaW5nJ1xyXG4gICAgICAgIGpzb246ICd0b0pTT04nXHJcbiAgICAgICAgbG9jYWxlRGF0ZTogJ3RvTG9jYWxlRGF0ZVN0cmluZydcclxuICAgICAgICBsb2NhbGVUaW1lOiAndG9Mb2NhbGVUaW1lU3RyaW5nJ1xyXG4gICAgICAgIGxvY2FsZTogJ3RvTG9jYWxlU3RyaW5nJ1xyXG4gICAgICAgIHRpbWU6ICd0b1RpbWVTdHJpbmcnXHJcbiAgICAgICAgdXRjOiAndG9VVENTdHJpbmcnXHJcbiAgICAgICAgZGVmYXVsdDogJ3RvU3RyaW5nJ1xyXG4gICAgICB9XHJcbiAgICAgIGZvcm1hdDogJ2RlZmF1bHQnXHJcbiAgICAgIHBhcmFtczogW11cclxuICAgIH1cclxuICAgICdmb3JtYXQnXHJcbiAgKVxyXG5cclxuICBrby50eXBlZC5hZGRDb252ZXJ0ZXIoXHJcbiAgICAnRGF0ZScsXHJcbiAgICAnVW5kZWZpbmVkJyxcclxuICAgICh2YWx1ZSwgb3B0aW9ucykgLT5cclxuICAgICAgaWYgbm90IGlzTmFOKHZhbHVlLnZhbHVlT2YoKSlcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gY29udmVydCBmcm9tIHZhbGlkIERhdGUgdG8gVW5kZWZpbmVkJylcclxuXHJcbiAgICAgIHJldHVybiB1bmRlZmluZWRcclxuICApXHJcblxyXG4gIGtvLnR5cGVkLmFkZENvbnZlcnRlcihcclxuICAgICdNb21lbnQnXHJcbiAgICAnRGF0ZSdcclxuICAgICh2YWx1ZSwgb3B0aW9ucykgLT5cclxuICAgICAgdmFsdWUudG9EYXRlKClcclxuICApXHJcblxyXG4gIGtvLnR5cGVkLmFkZENvbnZlcnRlcihcclxuICAgICdNb21lbnQnXHJcbiAgICAnU3RyaW5nJ1xyXG4gICAgKHZhbHVlLCBvcHRpb25zKSAtPlxyXG4gICAgICBpZiBub3QgdmFsdWUuaXNWYWxpZCgpXHJcbiAgICAgICAgcmV0dXJuICcnXHJcblxyXG4gICAgICByZXR1cm4gdmFsdWUubG9jYWxlKG9wdGlvbnMubG9jYWxlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpXHJcbiAgICB7XHJcbiAgICAgIHN0cmljdDogZmFsc2VcclxuICAgICAgbG9jYWxlOiAnZW4nXHJcbiAgICAgIGZvcm1hdDogJ0wnXHJcbiAgICB9XHJcbiAgICAnZm9ybWF0J1xyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ01vbWVudCcsXHJcbiAgICAnVW5kZWZpbmVkJyxcclxuICAgICh2YWx1ZSwgb3B0aW9ucykgLT5cclxuICAgICAgaWYgdmFsdWUuaXNWYWxpZCgpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGNvbnZlcnQgZnJvbSB2YWxpZCBNb21lbnQgdG8gVW5kZWZpbmVkJylcclxuXHJcbiAgICAgIHJldHVybiB1bmRlZmluZWRcclxuICApXHJcblxyXG4gIGtvLnR5cGVkLmFkZENvbnZlcnRlcihcclxuICAgICdOdW1iZXInXHJcbiAgICAnQm9vbGVhbidcclxuICAgICh2YWx1ZSwgb3B0aW9ucykgLT5cclxuICAgICAgaWYgb3B0aW9ucy5mYWxzZXk/IGFuZCB2YWx1ZSA9PSBvcHRpb25zLmZhbHNleVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICBlbHNlIGlmIG9wdGlvbnMudHJ1dGh5PyBhbmQgdmFsdWUgPT0gb3B0aW9ucy50cnV0aHlcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICBlbHNlIGlmIG5vdCBvcHRpb25zLmZhbHNleT9cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgZWxzZSBpZiBub3Qgb3B0aW9ucy50cnV0aHk/XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuXHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBmcm9tICN7dmFsdWV9IHRvIEJvb2xlYW5cIilcclxuICAgIHtcclxuICAgICAgdHJ1dGh5OiB1bmRlZmluZWRcclxuICAgICAgZmFsc2V5OiAwXHJcbiAgICB9XHJcbiAgKVxyXG5cclxuICBrby50eXBlZC5hZGRDb252ZXJ0ZXIoXHJcbiAgICAnTnVtYmVyJ1xyXG4gICAgJ051bWJlci5JbnRlZ2VyJ1xyXG4gICAgKHZhbHVlLCBvcHRpb25zKSAtPlxyXG4gICAgICBpZiB0eXBlb2Ygb3B0aW9ucy5tb2RlID09ICdzdHJpbmcnXHJcbiAgICAgICAgbW9kZSA9IE1hdGhbb3B0aW9ucy5tb2RlXVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgbW9kZSA9IG9wdGlvbnMubW9kZVxyXG5cclxuICAgICAgcmV0dXJuIG1vZGUodmFsdWUpXHJcbiAgICB7XHJcbiAgICAgIG1vZGU6ICdyb3VuZCdcclxuICAgIH1cclxuICAgICdtb2RlJ1xyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ051bWJlcidcclxuICAgICdTdHJpbmcnXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIGlmIG9wdGlvbnMuZGVjaW1hbHM/XHJcbiAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kMTAodmFsdWUsIC1vcHRpb25zLmRlY2ltYWxzKVxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9GaXhlZChvcHRpb25zLmRlY2ltYWxzKVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpXHJcblxyXG4gICAgICByZXR1cm4gdmFsdWVcclxuICAgIHtcclxuICAgICAgZGVjaW1hbHM6IHVuZGVmaW5lZFxyXG4gICAgfVxyXG4gICAgJ2RlY2ltYWxzJ1xyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ051bWJlci5JbnRlZ2VyJ1xyXG4gICAgJ0Jvb2xlYW4nXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIGlmIG9wdGlvbnMuZmFsc2V5PyBhbmQgdmFsdWUgPT0gb3B0aW9ucy5mYWxzZXlcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgZWxzZSBpZiBvcHRpb25zLnRydXRoeT8gYW5kIHZhbHVlID09IG9wdGlvbnMudHJ1dGh5XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgZWxzZSBpZiBub3Qgb3B0aW9ucy5mYWxzZXk/XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIGVsc2UgaWYgbm90IG9wdGlvbnMudHJ1dGh5P1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcblxyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgZnJvbSAje3ZhbHVlfSB0byBCb29sZWFuXCIpXHJcbiAgICB7XHJcbiAgICAgIHRydXRoeTogdW5kZWZpbmVkXHJcbiAgICAgIGZhbHNleTogMFxyXG4gICAgfVxyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ051bWJlci5JbnRlZ2VyJ1xyXG4gICAgJ051bWJlcicsXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIHJldHVybiB2YWx1ZVxyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ051bWJlci5JbnRlZ2VyJ1xyXG4gICAgJ1N0cmluZycsXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcob3B0aW9ucy5iYXNlKVxyXG4gICAgICBpZiBvcHRpb25zLnVwcGVyQ2FzZVxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9VcHBlckNhc2UoKVxyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICB7XHJcbiAgICAgIGJhc2U6IDEwXHJcbiAgICAgIHVwcGVyQ2FzZTogZmFsc2VcclxuICAgIH1cclxuICAgICdiYXNlJ1xyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ1N0cmluZycsXHJcbiAgICAnQm9vbGVhbicsXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIGlmIG9wdGlvbnMudHJpbVxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpXHJcblxyXG4gICAgICBpZiBvcHRpb25zLmlnbm9yZUNhc2VcclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKClcclxuXHJcbiAgICAgIGlmIG9wdGlvbnMuc3RyaWN0XHJcbiAgICAgICAgaWYgdmFsdWUgPT0gb3B0aW9ucy50cnV0aHlbMF1cclxuICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgZWxzZSBpZiB2YWx1ZSA9PSBvcHRpb25zLmZhbHNleVswXVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIGVsc2VcclxuICAgICAgICBmb3IgdHJ1dGh5IGluIG9wdGlvbnMudHJ1dGh5XHJcbiAgICAgICAgICBpZiB2YWx1ZSA9PSB0cnV0aHlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuXHJcbiAgICAgICAgZm9yIGZhbHNleSBpbiBvcHRpb25zLmZhbHNleVxyXG4gICAgICAgICAgaWYgdmFsdWUgPT0gZmFsc2V5XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG5cclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGZyb20gI3t2YWx1ZX0gdG8gQm9vbGVhblwiKVxyXG4gICAge1xyXG4gICAgICBpZ25vcmVDYXNlOiB0cnVlXHJcbiAgICAgIHN0cmljdDogZmFsc2VcclxuICAgICAgdHJ1dGh5OiBbXHJcbiAgICAgICAgJ3RydWUnXHJcbiAgICAgICAgJ3QnXHJcbiAgICAgICAgJzEnXHJcbiAgICAgICAgJy0xJ1xyXG4gICAgICAgICd5ZXMnXHJcbiAgICAgICAgJ3knXHJcbiAgICAgIF1cclxuICAgICAgZmFsc2V5OiBbXHJcbiAgICAgICAgJ2ZhbHNlJ1xyXG4gICAgICAgICdmJ1xyXG4gICAgICAgICcwJ1xyXG4gICAgICAgICdubydcclxuICAgICAgICAnbidcclxuICAgICAgXVxyXG4gICAgICB0cmltOiBmYWxzZVxyXG4gICAgfVxyXG4gICAgJ3N0cmljdCdcclxuICApXHJcblxyXG4gIGtvLnR5cGVkLmFkZENvbnZlcnRlcihcclxuICAgICdTdHJpbmcnXHJcbiAgICAnRGF0ZSdcclxuICAgICh2YWx1ZSwgb3B0aW9ucykgLT5cclxuICAgICAgaWYgb3B0aW9ucy50cmltXHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKClcclxuXHJcbiAgICAgIGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSlcclxuICAgICAgaWYgaXNOYU4oZGF0ZS52YWx1ZU9mKCkpXHJcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiVW5hYmxlIHRvIGNvbnZlcnQgZnJvbSAje3ZhbHVlfSB0byBEYXRlXCIpXHJcblxyXG4gICAgICByZXR1cm4gZGF0ZVxyXG4gICAge1xyXG4gICAgICB0cmltOiBmYWxzZVxyXG4gICAgfVxyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ1N0cmluZydcclxuICAgICdNb21lbnQnXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIGlmIG9wdGlvbnMudHJpbVxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpXHJcblxyXG4gICAgICByZXN1bHQgPSAobW9tZW50ID8gcmVxdWlyZSgnbW9tZW50JykpKHZhbHVlLCBvcHRpb25zLmZvcm1hdCwgb3B0aW9ucy5sYW5ndWFnZSwgb3B0aW9ucy5zdHJpY3QpXHJcbiAgICAgIGlmIG5vdCByZXN1bHQuaXNWYWxpZCgpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byBjb252ZXJ0IGZyb20gI3t2YWx1ZX0gdG8gTW9tZW50XCIpXHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB7XHJcbiAgICAgIHN0cmljdDogZmFsc2VcclxuICAgICAgbGFuZ3VhZ2U6ICdlbidcclxuICAgICAgZm9ybWF0OiAnTCdcclxuICAgICAgdHJpbTogZmFsc2VcclxuICAgIH1cclxuICAgICdmb3JtYXQnXHJcbiAgKVxyXG5cclxuICBrby50eXBlZC5hZGRDb252ZXJ0ZXIoXHJcbiAgICAnU3RyaW5nJyxcclxuICAgICdOdW1iZXIuSW50ZWdlcicsXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIGlmIG9wdGlvbnMudHJpbVxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpXHJcblxyXG4gICAgICBpZiBvcHRpb25zLmJhc2UgPT0gMTAgYW5kIG5vdCBvcHRpb25zLnN0cmljdFxyXG4gICAgICAgIHRyeVxyXG4gICAgICAgICAgcmV0dXJuIGtvLnR5cGVkLmdldENvbnZlcnRlcignU3RyaW5nJywgJ051bWJlcicpKHZhbHVlLCAwKVxyXG4gICAgICAgIGNhdGNoIGV4XHJcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5hYmxlIHRvIGNvbnZlcnQgZnJvbSAje3ZhbHVlfSB0byBOdW1iZXIuSW50ZWdlclwiKVxyXG5cclxuICAgICAgY2hhcnMgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6J1xyXG4gICAgICBpZiBub3QgUmVnRXhwKFwiXihcXFxcLXxcXFxcKyk/WyN7Y2hhcnMuc2xpY2UoMCwgb3B0aW9ucy5iYXNlID8gMTApfV0rJFwiLCBpZiBub3Qgb3B0aW9ucy5zdHJpY3QgdGhlbiAnaScpLnRlc3QodmFsdWUpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byBjb252ZXJ0IGZyb20gI3t2YWx1ZX0gdG8gTnVtYmVyLkludGVnZXJcIilcclxuXHJcbiAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgb3B0aW9ucy5iYXNlKVxyXG4gICAge1xyXG4gICAgICBiYXNlOiAxMFxyXG4gICAgICBzdHJpY3Q6IGZhbHNlXHJcbiAgICAgIHRyaW06IGZhbHNlXHJcbiAgICB9XHJcbiAgICAnYmFzZSdcclxuICApXHJcblxyXG4gIGtvLnR5cGVkLmFkZENvbnZlcnRlcihcclxuICAgICdTdHJpbmcnXHJcbiAgICAnTnVtYmVyJ1xyXG4gICAgKHZhbHVlLCBvcHRpb25zKSAtPlxyXG4gICAgICBpZiBvcHRpb25zLnRyaW1cclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKVxyXG5cclxuICAgICAgaWYgbm90IC9eKFxcK3xcXC0pP1swLTldKyhcXC4/KVswLTldKiQvLnRlc3QodmFsdWUpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byBjb252ZXJ0IGZyb20gI3t2YWx1ZX0gdG8gTnVtYmVyXCIpXHJcblxyXG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUsIG9wdGlvbnMuYmFzZSlcclxuXHJcbiAgICAgIGlmIG9wdGlvbnMuZGVjaW1hbHM/XHJcbiAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kMTAodmFsdWUsIC1vcHRpb25zLmRlY2ltYWxzKVxyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlXHJcbiAgICB7XHJcbiAgICAgIGRlY2ltYWxzOiB1bmRlZmluZWRcclxuICAgICAgdHJpbTogZmFsc2VcclxuICAgIH1cclxuICAgICdkZWNpbWFscydcclxuICApXHJcblxyXG4gIGtvLnR5cGVkLmFkZENvbnZlcnRlcihcclxuICAgICdTdHJpbmcnLFxyXG4gICAgJ1VuZGVmaW5lZCcsXHJcbiAgICAodmFsdWUsIG9wdGlvbnMpIC0+XHJcbiAgICAgIGlmIG9wdGlvbnMudHJpbVxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpXHJcblxyXG4gICAgICBpZiB2YWx1ZS5sZW5ndGggIT0gMFxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmFibGUgdG8gY29udmVydCBmcm9tICN7dmFsdWV9IHRvIFVuZGVmaW5lZFwiKVxyXG5cclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAge1xyXG4gICAgICB0cmltOiBmYWxzZVxyXG4gICAgfVxyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ1VuZGVmaW5lZCcsXHJcbiAgICAnRGF0ZScsXHJcbiAgICAodmFsdWUpIC0+XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgnJylcclxuICApXHJcblxyXG4gIGtvLnR5cGVkLmFkZENvbnZlcnRlcihcclxuICAgICdVbmRlZmluZWQnLFxyXG4gICAgJ1N0cmluZycsXHJcbiAgICAodmFsdWUpIC0+XHJcbiAgICAgIHJldHVybiAnJ1xyXG4gIClcclxuXHJcbiAga28udHlwZWQuYWRkQ29udmVydGVyKFxyXG4gICAgJ1VuZGVmaW5lZCcsXHJcbiAgICAnTW9tZW50JyxcclxuICAgICh2YWx1ZSkgLT5cclxuICAgICAgcmV0dXJuIHJlcXVpcmUoJ21vbWVudCcpKCcnKVxyXG4gIClcclxuXHJcbiAgcmV0dXJuIGtvXHJcblxyXG5hcHBseUtvdHIoa28pXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
